<section class="container mx-auto max-w-full p-14 border-2">

    <div class="mb-8">
        <h1 class="text-3xl font-bold mb-2">Welkom terug, <%= user.name %>!</h1>
        <p class="text-gray-600">Admin Dashboard - Live overzicht van je evenement</p>
    </div>

    <!-- info kaarten (sub partials?)-->

    <div class="grid md:grid-cols-4 gap-6 mb-8">
        <div class="p-8 bg-gradientkleurSmallText text-white rounded-lg shadow">
            <p class="text-2xl font-bold mb-2">Totale Omzet</p>
            <div class="text-3xl font-bold mb-1"><%= user.FestCoins %> FestCoins</div>
            <div class="text-1xl font-bold mb-1"><%= user.FestCoins %> Euro</div>
        </div>

        <div class="p-8 bg-gradientkleurSmallText text-white rounded-lg shadow">
            <p class="text-2xl font-bold mb-2">Aantal bezoekers</p>
            <div class="text-3xl font-bold mb-1">3,696</div>
        </div>

        <div class="p-8 bg-gradientkleurSmallText text-white rounded-lg shadow">
            <p class="text-2xl font-bold mb-2">Evenement Timer</p>
            <div class="text-3xl font-bold mb-1">03:30u te gaan</div>
            <div class="text-1xl font-bold mb-1">22:30 - 03:00</div>
        </div>

        <div class="p-8 bg-gradientkleurSmallText text-white rounded-lg shadow">
            <p class="text-2xl font-bold mb-2">Transacties/uur</p>
            <div class="text-1xl font-bold mb-1">850 FestCoins</div>
            <div class="text-1xl font-bold mb-1">peak: 924 FestCoins</div>
        </div>

    </div>

    <!-- Verkopen vandaag -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
        <div class="p-6 lg:col-span-2 bg-white rounded-lg shadow">
            <h2 class="text-2xl font-bold mb-6 flex-items-center gap-2">ðŸ“ˆ Verkopen vandaag</h2>
            
            <!-- dummy grafiek -->
            <% const salesData = [
                { time: '09:00', sales: 10 },
                { time: '10:00', sales: 15 },
                { time: '11:00', sales: 8 },
                { time: '12:00', sales: 20 },
                { time: '13:00', sales: 12 },
            ]; %>
            <div class="flex items-end h-48 space-x-2">
                <% salesData.forEach(d => { %>
                    <div class="bg-blue-500 w-6" style="height: <%= d.sales * 10 %>px;"></div>
                <% }) %>
            </div>
            <div class="flex justify-between text-sm mt-2 text-gray-500">
                <% salesData.forEach(d => { %>
                    <span><%= d.time %></span>
                <% }) %>
            </div>
        </div>

        <div class="p-6 bg-white rounded-lg shadow">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">ðŸ›’ Populairste items</h2>
            <% const popularItems = [
                { name: 'T-shirt', sold: 50, revenue: 500 },
                { name: 'Pet', sold: 30, revenue: 300 },
                { name: 'Sticker', sold: 20, revenue: 40 }
            ]; %>
            <div class="space-y-4">
                <% popularItems.forEach((item, index) => { 
                    const widthPercent = (item.sold / popularItems[0].sold) * 100;
                %>
                <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                        <span class="font-semibold"><%= item.name %></span>
                        <span class="text-gray-500"><%= item.sold %>x</span>
                    </div>
                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-blue-500" style="width: <%= widthPercent %>%"></div>
                    </div>
                    <div class="text-xs font-semibold text-blue-600">â‚¬<%= item.revenue %></div>
                </div>
                <% }) %>
            </div>
        </div>
    </div>




    <!-- Recente transacties kan ook subpartial worden!--> 
    <div class="border-2 p-6 shadow">
        
        <h2 class="text-2xl font-bold mb-4">Recente transacties</h2>
        <div class="space-y-3 mb-6">

            <% const transacties = [
                { item: 'Bier', locatie: 'Bar 1', tijd: '10:24', bedrag: -5 },
                { item: 'T-shirt', locatie: 'Merch stand', tijd: '11:10', bedrag: -25 },
                { item: 'Terugbetaling', locatie: 'Support', tijd: '12:45', bedrag: 10 }
                ]; 
            %>

            <% transacties.forEach(t => { %>
                <div class="flex justify-between items-center border-2 bg-gray-50 p-4 rounded shadow">
                <div>
                    <p class="font-semibold"><%= t.item %></p>
                    <p class="text-sm text-gray-500"><%= t.locatie %> â€¢ <%= t.tijd %></p>
                </div>
                <p class="font-bold <%= t.bedrag > 0 ? 'text-green-500' : 'text-red-500' %>">
                    <%= t.bedrag > 0 ? '+' : '-' %><%= Math.abs(t.bedrag) %> FestCoins
                </p>
                </div>
            <% }) %>
        </div>
        <a href="#" class="p-2 text-white border-2 bg-gradient-to-br from-blue-500 to-pink-500">Bekijke alle transacties</a> <span>(weer pop up voor volledige lijst?)</span>
    </div>

</section>
